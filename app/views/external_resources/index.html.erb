<%= render "layouts/view_header", resource: @external_resources.first %>

<div class="section-detail">
  <table class="table table-hover table-curved table-condensed">
    <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Tags</th>
      <th>Location</th>
      <th>Published?</th>
      <th>Approved</th>
      <th>Edit</th>
    </tr>
    </thead>
    <tbody>
    <% @external_resources.each do |external_resource| %>
      <tr>
        <td>
          <strong><%= external_resource.name %></strong>
        </td>
        <td>
          <strong><%= external_resource.description.truncate(20) %></strong>
        </td>
        <td>
          <%= " | " + external_resource.tags + " | " if external_resource.tags.any? %>
        </td>
        <td>
          <%= external_resource.phone %> <%= external_resource.system_location&.name %>
        </td>
        <td class="has-text-centered"><%= yes_no(external_resource.published?) %></td>
        <td class="has-text-centered"><%= yes_no(external_resource.approved) %></td>
        <td>
          <%= link_to("<span class='fa fa-edit'></span><span></span>".html_safe,
                      edit_external_resource_path(external_resource) ,
                      title: "Edit #{external_resource.name}",
                      class: "button") if current_user %>
        </td>
      </tr>
    <% end %>
    </tbody>
  </table>
</div>
