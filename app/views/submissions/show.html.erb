<%= render "layouts/view_header", resource: @submission %>

<p>
  <strong>Person:</strong>
  <%= @submission.person&.name %>
</p>

<p>
  <strong>Service area:</strong>
  <%= @submission.service_area&.name %>
</p>

<p>
  <strong>Form name:</strong>
  <%= @submission.form_name %>
</p>

<p>
  <strong>Created at:</strong>
  <%= @submission.created_at %>
</p>

<div>
  <span class="label">Submission Responses:</span>
  <% @submission.submission_responses.each do |response| %>
    <% question = response.custom_form_question %>
    <% if question.input_type.present? && question.methods.include?(question.input_type + "_response") %>
      <%= response.public_send(question.input_type) %>
    <% else %>
      <%= response.string_response %>
      <br>
      <%= response.inspect %>
    <% end %>
    <br><br>
  <% end %>
</div>

<hr>

<%= link_to 'Edit', edit_submission_path(@submission) %> |
<%= link_to 'Back', submissions_path %>
